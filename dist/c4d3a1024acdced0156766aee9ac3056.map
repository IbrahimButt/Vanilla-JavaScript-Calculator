{"version":3,"sources":["../js/calculate.js","../js/view.js","../js/state.js","../js/handlers.js","../js/main.js"],"names":["operatorMap","value","association","operate","leftOperand","rightOperand","Number","shuntingYard","userInput","outputQueue","operatorStack","isTopOfStackOperatorPrecedenceGreater","currentOperator","length","isTopOfStackOperatorPrecedenceEqualAndSameAssociation","operatorAtTopOfStackIsNotLeftBracket","forEach","token","push","hasOwnProperty","pop","postfixCalculator","stack","toString","view","buttonAnimation","buttonPressed","classList","add","setTimeout","remove","updateChromaticEffect","inputDisplay","setAttribute","textContent","state","operatorLastPressed","store","handlers","clearAll","innerText","removeFormatting","input","includes","replace","addFormatting","toExponential","addCommas","inlcudesDecimal","afterDecimalPortionOfValue","split","map","x","join","toFixed","valueWithCommas","reverse","i","slice","onDigitPress","console","log","onOperatorPress","onPlusMinusPress","onPercentPress","calculateTotal","document","getElementById","addEventListener","e","target","currentInput","newInput"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AGAA;;;;AACA;;;;AAEA,IAAMsC,WAAW;AACfC,UADe,oBACNP,YADM,EACQ;AACrBA,iBAAaQ,SAAb,GAAyB,CAAzB;AACA,oBAAMH,KAAN,GAAc,EAAd;AACA,oBAAMD,mBAAN,GAA4B,KAA5B;AACD,GALc;AAMfK,kBANe,4BAMEC,KANF,EAMS;AACtB,WAAOA,MAAMC,QAAN,CAAe,GAAf,IACLrC,OAAOoC,KAAP,EAAcnB,QAAd,EADK,GAELmB,MAAME,OAAN,CAAc,IAAd,EAAoB,EAApB,CAFF;AAGD,GAVc;AAWfC,eAXe,yBAWDH,KAXC,EAWM;AACnB,WAAOA,QAAQ,SAAR,GACLpC,OAAOoC,KAAP,EAAcI,aAAd,CAA4B,CAA5B,EAA+BvB,QAA/B,EADK,GAEL,KAAKwB,SAAL,CAAeL,KAAf,CAFF;AAGD,GAfc;AAgBfK,WAhBe,qBAgBLL,KAhBK,EAgBE;AACf,QAAIM,kBAAkB,KAAtB;AACA,QAAIC,mCAAJ;AACA,QAAIP,MAAMC,QAAN,CAAe,GAAf,CAAJ,EAAyB;AACvBM,mCAA6BP,MAC1BQ,KAD0B,CACpB,EADoB,EAE1BC,GAF0B,CAEtB,UAACC,CAAD,EAAO;AACV,YAAIA,MAAM,GAAV,EAAe;AACbJ,4BAAkB,IAAlB;AACA,iBAAOI,CAAP;AACD,SAHD,MAGO,IAAIJ,eAAJ,EAAqB;AAC1B,iBAAOI,CAAP;AACD;AACF,OAT0B,EAU1BC,IAV0B,CAUrB,EAVqB,CAA7B;;AAYAJ,mCAA6BA,+BAA+B,GAA/B,GAC3B,GAD2B,GAE3B3C,OAAO2C,0BAAP,EAAmCK,OAAnC,CACEL,2BAA2BpC,MAA3B,GAAoC,CAApC,GAAwC,CAAxC,GAA4C,CAD9C,EAEEU,QAFF,GAEaqB,OAFb,CAEqB,IAFrB,EAE2B,EAF3B,CAFF;AAKD;;AAED,QAAMW,kBAAkBb;AACtB;AADsB,KAErBE,OAFqB,CAEb,MAFa,EAEL,EAFK,EAGrBM,KAHqB,CAGf,EAHe,EAIrBM,OAJqB,GAKrBL,GALqB,CAKjB,UAACC,CAAD,EAAIK,CAAJ,EAAU;AACb,aAAQA,IAAI,CAAJ,KAAU,CAAV,GAAcL,IAAI,GAAlB,GAAwBA,CAAhC;AACD,KAPqB,EAQrBI,OARqB,GASrBH,IATqB,CAShB,EATgB;AAUtB;AAVsB,KAWrBK,KAXqB,CAWf,CAXe,EAWZ,CAAC,CAXW,CAAxB;;AAaA,WAAOH,mBAAmBN,8BAA8B,EAAjD,CAAP;AACD,GArDc;AAsDfU,cAtDe,wBAsDFjB,KAtDE,EAsDKhB,aAtDL,EAsDoB;AACjC,QACGgB,UAAU,GAAV,IAAiBhB,kBAAkB,GAApC,IACA,gBAAMU,mBAFR,EAGE;AACA,sBAAMA,mBAAN,GAA4B,KAA5B;AACA,aAAOV,aAAP;AACD,KAND,MAMO,IAAIgB,UAAU,GAAV,IAAiBhB,kBAAkB,GAAvC,EAA4C;AACjDkC,cAAQC,GAAR,CAAY,GAAZ;AACA,sBAAMzB,mBAAN,GAA4B,KAA5B;AACA,aAAO,IAAP;AACD,KAJM,MAIA,IAAIV,kBAAkB,GAAlB,IAAyBgB,MAAMC,QAAN,CAAe,GAAf,CAA7B,EAAkD;AACvD,aAAO,KAAP;AACD,KAFM,MAEA;AACL,sBAAMP,mBAAN,GAA4B,KAA5B;AACA,aAAOM,QAAQhB,aAAf;AACD;AACF,GAvEc;AAwEfoC,iBAxEe,2BAwECpB,KAxED,EAwEQhB,aAxER,EAwEuB;AACpC,QAAIgB,UAAU,GAAd,EAAmB;AACjB,aAAO,KAAP;AACD,KAFD,MAEO,IAAI,gBAAMN,mBAAV,EAA+B;AACpC,sBAAMC,KAAN,CAAYjB,GAAZ;AACA,sBAAMiB,KAAN,CAAYnB,IAAZ,CAAiBQ,aAAjB;AACD,KAHM,MAGA;AACL,sBAAMW,KAAN,CAAYnB,IAAZ,CAAiBwB,KAAjB;AACA,UAAMlC,YAAY,gBAAM6B,KAAxB;AACA,UAAM5B,cAAc,6BAAaD,SAAb,CAApB;AACA,sBAAM6B,KAAN,GAAc,CAAC,kCAAkB5B,WAAlB,CAAD,CAAd;AACA,sBAAM4B,KAAN,CAAYnB,IAAZ,CAAiBQ,aAAjB;AACA,sBAAMU,mBAAN,GAA4B,IAA5B;AACA,aAAO,gBAAMC,KAAN,CAAY,CAAZ,CAAP;AACD;AACF,GAvFc;AAwFf0B,kBAxFe,4BAwFErB,KAxFF,EAwFS;AACtB,WAAOA,QAAQ,CAAR,GAAY,MAAMA,KAAlB,GAA0BA,MAAME,OAAN,CAAc,IAAd,EAAoB,EAApB,CAAjC;AACD,GA1Fc;AA2FfoB,gBA3Fe,0BA2FAtB,KA3FA,EA2FO;AH9FxB,AG+FI,IH/FE1C,OG+FK,CAAC0C,MH/FQ,EG+FA,GAAT,EAAcnB,QAAd,EAAP;AH9FF,AG+FC,GA7Fc,IHFV;AACHtB,AG+FFgE,WH/FS,CADJ,IGEU,0BA8FAvB,KA9FA,EA8FO;AH9FpBxC,AG+FA,iBH/Fa,GG+FPmC,IHjGH,CGiGH,CAAYnB,IAAZ,CAAiBwB,KAAjB;AH9FAvC,AG+FAyD,WHlGG,CGkGKC,GAAR,CAAY,cH/FJzD,EG+FUiC,KAAlB,IHlGG,EAGkBhC,YAHlB,EAGgC;AACjC,AG+FF,QAAMG,YAAY,EH/FTJ,WAAP,EAAsBC,CG+FAgC,KAAxB,MH/FE;AACD,AG+FD,QAAM5B,cAAc,6BAAaD,SAAb,CAApB;AHpGG,AGqGH,GHtGgB,iBGsGV6B,KAAN,GAAc,CAAC,kCAAkB5B,WAAlB,CAAD,CAAd;AH9FF,AG+FEmD,OH/FG,KG+FKC,GAAR,CAAY,gBAAMxB,KAAN,CAAY,CAAZ,CAAZ;AH9FApC,AG+FA,WH/FO,AG+FA,CHhGJ,eGgGUoC,KAAN,CAAY,CAAZ,CAAP;AH9FAnC,AG+FD,iBH/Fc,MAFV;AAGHC,AGRa,CAAjB,UHKO,mBAGKC,WAHL,EAGkBC,YAHlB,EAGgC;AACjC,aAAOD,cAAcC,YAArB;AACD,kBG+FUiC;AHpGR,GARa;AAelB,OAAK;AACHrC,WAAO,CADJ;AAEHC,iBAAa,MAFV;AAGHC,WAHG,mBAGKC,WAHL,EAGkBC,YAHlB,EAGgC;AACjC,aAAOD,cAAcC,YAArB;AACD;AALE,GAfa;AAsBlB,OAAK;AACHJ,WAAO,CADJ;AAEHC,iBAAa,MAFV;AAGHC,WAHG,mBAGKC,WAHL,EAGkBC,YAHlB,EAGgC;AACjC,aAAOC,OAAOF,WAAP,IAAsBE,OAAOD,YAAP,CAA7B;AACD;AALE,GAtBa;AA6BlB,OAAK;AACHJ,WAAO,CADJ;AAEHC,iBAAa,MAFV;AAGHC,WAHG,mBAGKC,WAHL,EAGkBC,YAHlB,EAGgC;AACjC,aAAOD,cAAcC,YAArB;AACD;AALE,GA7Ba;AAoClB,OAAK;AACHJ,WAAO;AADJ,GApCa;AAuClB,OAAK;AACHA,WAAO;AADJ;AAvCa,CAApB;;AA4CA,IAAMM,eAAe,SAAfA,YAAe,CAACC,SAAD,EAAe;AAClC,MAAMC,cAAc,EAApB;AACA,MAAMC,gBAAgB,EAAtB;;AAEA,MAAMC,wCAAwC,SAAxCA,qCAAwC,CAACC,eAAD,EAAqB;AACjE,QAAMX,QAAQS,cAAcG,MAAd,GAAuB,CAAvB,GACZ,CADY,GACRb,YAAYU,cAAcA,cAAcG,MAAd,GAAuB,CAArC,CAAZ,EAAqDZ,KAD3D;AAEA,WAAOA,QAAQD,YAAYY,eAAZ,EAA6BX,KAA5C;AACD,GAJD;;AAMA,MAAMa,wDAAwD,SAAxDA,qDAAwD,CAACF,eAAD,EAAqB;AACjF,QAAMX,QAAQS,cAAcG,MAAd,GAAuB,CAAvB,GACZ,CADY,GACRb,YAAYU,cAAcA,cAAcG,MAAd,GAAuB,CAArC,CAAZ,EAAqDZ,KAD3D;AAEA,WAAQA,UAAUD,YAAYY,eAAZ,EAA6BX,KAAvC,IACND,YAAYY,eAAZ,EAA6BV,WAA7B,KAA6C,MAD/C;AAED,GALD;;AAOA,MAAMa,uCAAuC,SAAvCA,oCAAuC;AAAA,WAC3CL,cAAcA,cAAcG,MAAd,GAAuB,CAArC,MAA4C,GADD;AAAA,GAA7C;;AAIAL,YAAUQ,OAAV,CAAkB,UAACC,KAAD,EAAW;AAC3B,QAAIX,OAAOW,KAAP,CAAJ,EAAmB;AACjBR,kBAAYS,IAAZ,CAAiBD,KAAjB;AACD,KAFD,MAEO,IACJjB,YAAYmB,cAAZ,CAA2BF,KAA3B,KACCA,UAAU,GADX,IACkBA,UAAU,GAFxB,EAGL;AACA,aACE,CAACN,sCAAsCM,KAAtC,KACCH,sDAAsDG,KAAtD,CADF,KAEGF,sCAHL,EAIE;AACAN,oBAAYS,IAAZ,CAAiBR,cAAcU,GAAd,EAAjB;AACD;AACDV,oBAAcQ,IAAd,CAAmBD,KAAnB;AACD,KAZM,MAYA,IAAIA,UAAU,GAAd,EAAmB;AACxBP,oBAAcQ,IAAd,CAAmBD,KAAnB;AACD,KAFM,MAEA,IAAIA,UAAU,GAAd,EAAmB;AACxB,aAAOF,sCAAP,EAA+C;AAC7CN,oBAAYS,IAAZ,CAAiBR,cAAcU,GAAd,EAAjB;AACD;AACDV,oBAAcU,GAAd;AACD;AACF,GAvBD;;AAyBAV,gBAAcM,OAAd,CAAsB,YAAM;AAC1BP,gBAAYS,IAAZ,CAAiBR,cAAcU,GAAd,EAAjB;AACD,GAFD;;AAIA,SAAOX,WAAP;AACD,CAnDD;;AAqDA,IAAMY,oBAAoB,SAApBA,iBAAoB,CAACZ,WAAD,EAAiB;AACzC,MAAMa,QAAQ,EAAd;AACAb,cAAYO,OAAZ,CAAoB,UAACC,KAAD,EAAW;AAC7B,QAAIX,OAAOW,KAAP,CAAJ,EAAmB;AACjBK,YAAMJ,IAAN,CAAWD,KAAX;AACD,KAFD,MAEO;AACL,UAAMZ,eAAeiB,MAAMF,GAAN,EAArB;AACA,UAAMhB,cAAckB,MAAMF,GAAN,EAApB;AACAE,YAAMJ,IAAN,CAAWlB,YAAYiB,KAAZ,EAAmBd,OAAnB,CAA2BC,WAA3B,EAAwCC,YAAxC,CAAX;AACD;AACF,GARD;AASA,SAAOiB,MAAM,CAAN,EAASC,QAAT,EAAP;AACD,CAZD;;QAcQhB,eAAAA;QAAcc,oBAAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/GtB,IAAMG,OAAO;AACXC,iBADW,2BACKC,aADL,EACoB;AAC7BA,kBAAcC,SAAd,CAAwBC,GAAxB,CAA4B,QAA5B;AACAC,eAAW,YAAM;AACfH,oBAAcC,SAAd,CAAwBG,MAAxB,CAA+B,QAA/B;AACD,KAFD,EAEG,GAFH;AAGD,GANU;AAOXC,uBAPW,iCAOWC,YAPX,EAOyB;AAClCA,iBAAaC,YAAb,CAA0B,cAA1B,EAA0CD,aAAaE,WAAvD;AACD;AATU,CAAb;;kBAYeV;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACZf,IAAMW,QAAQ;AACZC,uBAAqB,KADT;AAEZC,SAAO;AAFK,CAAd;;kBAKeF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AELf;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMH,eAAekC,SAASC,cAAT,CAAwB,qBAAxB,CAArB;;AAEAD,SAASC,cAAT,CAAwB,oBAAxB,EAA8CC,gBAA9C,CAA+D,OAA/D,EAAwE,UAACC,CAAD,EAAO;AAC7E,MAAM3C,gBAAgB2C,EAAEC,MAAF,CAASpC,WAA/B;AACA,MAAIqC,eAAe,mBAAS9B,gBAAT,CAA0BT,aAAaE,WAAvC,CAAnB;AACA,MAAIsC,iBAAJ;;AAEA,MAAIlE,OAAOoB,aAAP,KAAyBA,kBAAkB,GAA3C,IAAkDA,kBAAkB,GAAxE,EAA6E;AAC3E8C,eAAW,mBAASb,YAAT,CAAsBY,YAAtB,EAAoC7C,aAApC,CAAX;AACD,GAFD,MAGK,IAAIA,kBAAkB,KAAtB,EAA6B;AAChC8C,eAAW,mBAAST,gBAAT,CAA0BQ,YAA1B,CAAX;AACD,GAFI,MAGA,IAAI7C,kBAAkB,GAAtB,EAA2B;AAC9B8C,eAAW,mBAASR,cAAT,CAAwBO,YAAxB,CAAX;AACD,GAFI,MAGA,IAAI7C,kBAAkB,IAAtB,EAA4B;AAC/B,uBAASa,QAAT,CAAkBP,YAAlB;AACAwC,eAAW,GAAX;AAED,GAJI,MAIE,IAAI9C,kBAAkB,GAAtB,EAA2B;AAChC8C,eAAW,mBAASP,cAAT,CAAwBM,YAAxB,CAAX;AACD,GAFM,MAGF;AACHC,eAAW,mBAASV,eAAT,CAAyBS,YAAzB,EAAuC7C,aAAvC,KAAyD6C,YAApE;AACD;AACDvC,eAAaE,WAAb,GAA2B,mBAASW,aAAT,CAAuB2B,QAAvB,CAA3B;AACA,iBAAK/C,eAAL,CAAqB4C,EAAEC,MAAvB;AACA,iBAAKvC,qBAAL,CAA2BC,YAA3B;AACD,CA3BD","file":"c4d3a1024acdced0156766aee9ac3056.map","sourcesContent":["const operatorMap = {\n  '^': {\n    value: 3,\n    association: 'right',\n    operate(leftOperand, rightOperand) {\n      return leftOperand ** rightOperand;\n    }\n  },\n  'ร': {\n    value: 3,\n    association: 'left',\n    operate(leftOperand, rightOperand) {\n      return leftOperand * rightOperand;\n    }\n  },\n  'รท': {\n    value: 3,\n    association: 'left',\n    operate(leftOperand, rightOperand) {\n      return leftOperand / rightOperand;\n    }\n  },\n  '+': {\n    value: 2,\n    association: 'left',\n    operate(leftOperand, rightOperand) {\n      return Number(leftOperand) + Number(rightOperand);\n    }\n  },\n  '-': {\n    value: 2,\n    association: 'left',\n    operate(leftOperand, rightOperand) {\n      return leftOperand - rightOperand;\n    }\n  },\n  '(': {\n    value: 5\n  },\n  ')': {\n    value: 5\n  }\n};\n\nconst shuntingYard = (userInput) => {\n  const outputQueue = [];\n  const operatorStack = [];\n\n  const isTopOfStackOperatorPrecedenceGreater = (currentOperator) => {\n    const value = operatorStack.length < 1 ?\n      0 : operatorMap[operatorStack[operatorStack.length - 1]].value;\n    return value > operatorMap[currentOperator].value;\n  };\n\n  const isTopOfStackOperatorPrecedenceEqualAndSameAssociation = (currentOperator) => {\n    const value = operatorStack.length < 1 ?\n      0 : operatorMap[operatorStack[operatorStack.length - 1]].value;\n    return (value === operatorMap[currentOperator].value &&\n      operatorMap[currentOperator].association === 'left');\n  };\n\n  const operatorAtTopOfStackIsNotLeftBracket = () => (\n    operatorStack[operatorStack.length - 1] !== '('\n  );\n\n  userInput.forEach((token) => {\n    if (Number(token)) {\n      outputQueue.push(token);\n    } else if (\n      (operatorMap.hasOwnProperty(token) &&\n        token !== ')' && token !== '(')\n    ) {\n      while (\n        (isTopOfStackOperatorPrecedenceGreater(token) ||\n          isTopOfStackOperatorPrecedenceEqualAndSameAssociation(token))\n        && operatorAtTopOfStackIsNotLeftBracket()\n      ) {\n        outputQueue.push(operatorStack.pop());\n      }\n      operatorStack.push(token);\n    } else if (token === '(') {\n      operatorStack.push(token);\n    } else if (token === ')') {\n      while (operatorAtTopOfStackIsNotLeftBracket()) {\n        outputQueue.push(operatorStack.pop());\n      }\n      operatorStack.pop();\n    }\n  });\n\n  operatorStack.forEach(() => {\n    outputQueue.push(operatorStack.pop());\n  });\n\n  return outputQueue;\n};\n\nconst postfixCalculator = (outputQueue) => {\n  const stack = [];\n  outputQueue.forEach((token) => {\n    if (Number(token)) {\n      stack.push(token);\n    } else {\n      const rightOperand = stack.pop();\n      const leftOperand = stack.pop();\n      stack.push(operatorMap[token].operate(leftOperand, rightOperand));\n    }\n  });\n  return stack[0].toString();\n};\n\nexport {shuntingYard, postfixCalculator};","const view = {\n  buttonAnimation(buttonPressed) {\n    buttonPressed.classList.add('active');\n    setTimeout(() => {\n      buttonPressed.classList.remove('active');\n    }, 750);\n  },\n  updateChromaticEffect(inputDisplay) {\n    inputDisplay.setAttribute(\"node-content\", inputDisplay.textContent);\n  },\n}\n\nexport default view;","const state = {\n  operatorLastPressed: false,\n  store: []\n};\n\nexport default state;","import state from './state';\nimport { shuntingYard, postfixCalculator } from './calculate';\n\nconst handlers = {\n  clearAll(inputDisplay) {\n    inputDisplay.innerText = 0;\n    state.store = []\n    state.operatorLastPressed = false;\n  },\n  removeFormatting(input) {\n    return input.includes('e') ?\n      Number(input).toString() :\n      input.replace(/,/g, '');\n  },\n  addFormatting(input) {\n    return input > 999999999 ?\n      Number(input).toExponential(2).toString() :\n      this.addCommas(input);\n  },\n  addCommas(input) {\n    let inlcudesDecimal = false;\n    let afterDecimalPortionOfValue;\n    if (input.includes('.')) {\n      afterDecimalPortionOfValue = input\n        .split('')\n        .map((x) => {\n          if (x === '.') {\n            inlcudesDecimal = true;\n            return x;\n          } else if (inlcudesDecimal) {\n            return x;\n          }\n        })\n        .join('');\n\n      afterDecimalPortionOfValue = afterDecimalPortionOfValue === '.' ?\n        '.' :\n        Number(afterDecimalPortionOfValue).toFixed(\n          afterDecimalPortionOfValue.length > 2 ? 2 : 1\n        ).toString().replace(/^0/, '');\n    }\n\n    const valueWithCommas = input\n      // Remove portion after decimals\n      .replace(/\\..*/, '')\n      .split('')\n      .reverse()\n      .map((x, i) => {\n        return (i % 3 === 0 ? x + ',' : x);\n      })\n      .reverse()\n      .join('')\n      // Remove extra comma\n      .slice(0, -1);\n\n    return valueWithCommas + (afterDecimalPortionOfValue || '')\n  },\n  onDigitPress(input, buttonPressed) {\n    if (\n      (input === '0' && buttonPressed !== '.') ||\n      state.operatorLastPressed\n    ) {\n      state.operatorLastPressed = false;\n      return buttonPressed;\n    } else if (input === '0' && buttonPressed === '.') {\n      console.log(123)\n      state.operatorLastPressed = false;\n      return '0.'\n    } else if (buttonPressed === '.' && input.includes('.')) {\n      return false;\n    } else {\n      state.operatorLastPressed = false;\n      return input + buttonPressed;\n    }\n  },\n  onOperatorPress(input, buttonPressed) {\n    if (input === '0') {\n      return false;\n    } else if (state.operatorLastPressed) {\n      state.store.pop();\n      state.store.push(buttonPressed);\n    } else {\n      state.store.push(input);\n      const userInput = state.store;\n      const outputQueue = shuntingYard(userInput);\n      state.store = [postfixCalculator(outputQueue)];\n      state.store.push(buttonPressed);\n      state.operatorLastPressed = true;\n      return state.store[0];\n    }\n  },\n  onPlusMinusPress(input) {\n    return input > 0 ? '-' + input : input.replace(/^-/, '');\n  },\n  onPercentPress(input) {\n    return (input / 100).toString();\n  },\n  calculateTotal(input) {\n    state.store.push(input);\n    console.log(state.store)\n    const userInput = state.store;\n    const outputQueue = shuntingYard(userInput);\n    state.store = [postfixCalculator(outputQueue)];\n    console.log(state.store[0])\n    return state.store[0];\n  }\n};\n\nexport default handlers;","import { shuntingYard, postfixCalculator } from './calculate';\nimport view from './view';\nimport handlers from './handlers';\nimport state from './state';\n\nconst inputDisplay = document.getElementById('calculator__display');\n\ndocument.getElementById('calculator__bottom').addEventListener('click', (e) => {\n  const buttonPressed = e.target.textContent;\n  let currentInput = handlers.removeFormatting(inputDisplay.textContent);\n  let newInput;\n\n  if (Number(buttonPressed) || buttonPressed === '.' || buttonPressed === '0') {\n    newInput = handlers.onDigitPress(currentInput, buttonPressed)\n  }\n  else if (buttonPressed === '+/-') {\n    newInput = handlers.onPlusMinusPress(currentInput);\n  } \n  else if (buttonPressed === '%') {\n    newInput = handlers.onPercentPress(currentInput);\n  } \n  else if (buttonPressed === 'AC') {\n    handlers.clearAll(inputDisplay);\n    newInput = '0';\n\n  } else if (buttonPressed === '=') {\n    newInput = handlers.calculateTotal(currentInput);\n  }\n  else {\n    newInput = handlers.onOperatorPress(currentInput, buttonPressed) || currentInput;\n  }\n  inputDisplay.textContent = handlers.addFormatting(newInput);\n  view.buttonAnimation(e.target)\n  view.updateChromaticEffect(inputDisplay);\n});\n"]}